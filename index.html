<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Schematic Preview Demo</title>
    <style>
        body {
            margin: 0;
        }
    </style>
</head>

<body>
    <input type="file" id="input" accept="schem">
    <script type="module">
        import renderSchematic from './src/webschematics.js';

        document.getElementById('input').addEventListener('change', (event) => {
            // Remove any existing canvas elements
            document.querySelectorAll('canvas').forEach((canvas) => {
                canvas.remove();
            });
            const file = event.target.files[0];

            // If there is a ./resources folder on disk, use that as teh endpoint for resources, otherwise use the default
            const resources = window.location.href.includes('localhost') ? './resources' : 'https://raw.githubusercontent.com/InventivetalentDev/minecraft-assets/1.19.2';
            renderSchematic(file, document.body, resources);
        });
    </script>
</body>

</html>